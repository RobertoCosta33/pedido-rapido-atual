#!/bin/bash

# =============================================================================
# DEPLOY SCRIPT - RENDER
# Instru√ß√µes para deploy no Render
# =============================================================================

echo "üé® Deploy no Render - Instru√ß√µes"
echo "================================="
echo ""
echo "1Ô∏è‚É£  Acesse https://render.com e crie uma conta"
echo ""
echo "2Ô∏è‚É£  Crie um novo Web Service:"
echo "   - Connect GitHub repository"
echo "   - Runtime: Docker"
echo "   - Build Command: (deixe vazio)"
echo "   - Start Command: (deixe vazio)"
echo ""
echo "3Ô∏è‚É£  Configure as vari√°veis de ambiente:"
echo ""
echo "üîß VARI√ÅVEIS OBRIGAT√ìRIAS:"
echo "   ASPNETCORE_ENVIRONMENT=Production"
echo "   ASPNETCORE_URLS=http://+:10000"
echo "   UseEntityFramework=true"
echo ""
echo "üîê JWT:"
echo "   Jwt__Secret=$(openssl rand -base64 32)"
echo "   Jwt__Issuer=PedidoRapido.API"
echo "   Jwt__Audience=PedidoRapido.Frontend"
echo ""
echo "üóÑÔ∏è  POSTGRESQL:"
echo "   - Crie um PostgreSQL database no Render"
echo "   - Copie a Internal Database URL"
echo "   ConnectionStrings__DefaultConnection=postgresql://..."
echo ""
echo "üåê CORS:"
echo "   CORS__AllowedOrigins=https://seudominio.com"
echo ""
echo "üí≥ STRIPE:"
echo "   Stripe__SecretKey=sk_live_..."
echo "   Stripe__PublicKey=pk_live_..."
echo "   Stripe__WebhookSecret=whsec_..."
echo ""
echo "4Ô∏è‚É£  Configure o Dockerfile:"
echo "   - Certifique-se que o Dockerfile est√° na raiz do reposit√≥rio"
echo "   - Render detectar√° automaticamente"
echo ""
echo "5Ô∏è‚É£  Deploy:"
echo "   - Clique em 'Create Web Service'"
echo "   - Aguarde o build e deploy"
echo ""
echo "6Ô∏è‚É£  Verificar:"
echo "   - Acesse https://seuapp.onrender.com/health"
echo "   - Verifique os logs no dashboard"
echo ""
echo "üìö Documenta√ß√£o: https://render.com/docs/docker"
echo ""